{{-- <x-app-layout>
    <section class="px-4 py-4 bg-gray-200 lg:px-20 lg:py-8">
        <div class="flex flex-wrap lg:space-x-12">

            <div class="lg:w-3/5">
                <h1 class="mb-4 text-2xl font-medium text-center text-gray-900 lg:text-3xl">Lorem ipsum dolor
                    sit amet,
                    consectetur adipFriuli-Venezia Giulia</h1>
                <img src="https://images.unsplash.com/photo-1601760562234-9814eea6663a?ixid=MnwxMjA3fDB8MHxzZWFyY2h8M3x8cmVhbGVzdGF0ZXxlbnwwfHwwfHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60"
                    alt="property" class="w-full">
                <div class="flex mt-4 space-x-4">
                    <img src="https://images.unsplash.com/photo-1601760562234-9814eea6663a?ixid=MnwxMjA3fDB8MHxzZWFyY2h8M3x8cmVhbGVzdGF0ZXxlbnwwfHwwfHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60"
                        alt="property" class="w-12 lg:w-52">
                    <img src="https://images.unsplash.com/photo-1601760562234-9814eea6663a?ixid=MnwxMjA3fDB8MHxzZWFyY2h8M3x8cmVhbGVzdGF0ZXxlbnwwfHwwfHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60"
                        alt="property" class="w-12 lg:w-52">
                    <img src="https://images.unsplash.com/photo-1601760562234-9814eea6663a?ixid=MnwxMjA3fDB8MHxzZWFyY2h8M3x8cmVhbGVzdGF0ZXxlbnwwfHwwfHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60"
                        alt="property" class="w-12 lg:w-52">
                    <img src="https://images.unsplash.com/photo-1601760562234-9814eea6663a?ixid=MnwxMjA3fDB8MHxzZWFyY2h8M3x8cmVhbGVzdGF0ZXxlbnwwfHwwfHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60"
                        alt="property" class="w-12 lg:w-52">
                </div>
                <div class="mt-4">
                    <h4 class="text-2xl font-bold">Description</h4>
                    <p class="my-4">Lorem ipsum dolor sit amet consectetur adipisicing elit. Saepe
                        asperiores facere
                        maxime libero alias enim recusandae quibusdam laborum. Fugiat aspernatur velit optio
                        neque
                        quos temporibus autem delectus fuga tempora unde! Lorem ipsum dolor sit amet
                        consectetur
                        adipisicing elit. Saepe asperiores facere
                        maxime libero alias enim recusandae quibusdam laborum. Fugiat aspernatur velit optio
                        neque
                        quos temporibus autem delectus fuga tempora unde!.</p>
                    <p class="mb-4">Lorem ipsum dolor sit amet consectetur adipisicing elit. Saepe
                        asperiores facere
                        maxime libero alias enim recusandae quibusdam laborum. Fugiat aspernatur velit optio
                        neque
                        quos temporibus autem delectus fuga tempora unde! Lorem ipsum dolor sit amet
                        consectetur
                        adipisicing elit. Saepe asperiores facere
                        maxime libero alias enim recusandae quibusdam laborum. Fugiat aspernatur velit optio
                        neque
                        quos temporibus autem delectus fuga tempora unde!.</p>

                    <div class="flex flex-wrap ">
                        <div class="w-full p-2 lg:w-1/2">
                            <div class="flex items-center h-full p-4 bg-gray-100 rounded">
                                <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 mr-3 text-green-600"
                                    fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3"
                                        d="M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z" />
                                </svg>
                                <span class="font-medium">4 Beds</span>
                            </div>
                        </div>
                        <div class="w-full p-2 lg:w-1/2">
                            <div class="flex items-center h-full p-4 bg-gray-100 rounded">
                                <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 mr-3 text-green-600"
                                    fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3"
                                        d="M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z" />
                                </svg>
                                <span class="font-medium">Area 550 sqft</span>
                            </div>
                        </div>
                        <div class="w-full p-2 lg:w-1/2">
                            <div class="flex items-center h-full p-4 bg-gray-100 rounded">
                                <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 mr-3 text-green-600"
                                    fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3"
                                        d="M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z" />
                                </svg>
                                <span class="font-medium">Bedroom 6</span>
                            </div>
                        </div>
                        <div class="w-full p-2 lg:w-1/2">
                            <div class="flex items-center h-full p-4 bg-gray-100 rounded">
                                <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 mr-3 text-green-600"
                                    fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3"
                                        d="M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z" />
                                </svg>
                                <span class="font-medium">Kitchen 2</span>
                            </div>
                        </div>
                    </div>
                    <p class="mb-4">Lorem ipsum dolor sit amet consectetur adipisicing elit. Saepe
                        asperiores facere
                        maxime libero alias enim recusandae quibusdam laborum. Fugiat aspernatur velit optio
                        neque
                        quos temporibus autem delectus fuga tempora unde! Lorem ipsum dolor sit amet
                        consectetur
                        adipisicing elit. Saepe asperiores facere
                        maxime libero alias enim recusandae quibusdam laborum. Fugiat aspernatur velit optio
                        neque
                        quos temporibus autem delectus fuga tempora unde!.</p>
                </div>
            </div>

            <div class="lg:w-1/3 lg:mt-4">
                <h4 class="text-2xl font-bold text-center text-blue-700">Search Property</h4>
                <form action="">
                    <div class="lg:grid lg:gap-2 lg:grid-cols-2">
                        <div class="">
                            <select
                                class="w-full px-8 py-2 bg-white border border-gray-400 rounded outline-none appearance-none focus:ring-2">
                                <option>Type</option>
                                <option>Apartment</option>
                                <option>Apartment</option>
                                <option>House</option>
                                <option>Villa</option>
                                <option>Hotel</option>
                            </select>
                        </div>
                        <div>
                            <input type="text"
                                class="w-full p-2 border border-gray-400 rounded outline-none focus:ring-2"
                                Placeholder="Location" />
                        </div>
                        <div class="">
                            <select
                                class="w-full px-8 py-2 bg-white border border-gray-400 rounded outline-none appearance-none focus:ring-2">
                                <option>For Sale</option>
                                <option>For Rent</option>
                            </select>
                        </div>
                        <div class="">
                            <select
                                class="w-full px-8 py-2 bg-white border border-gray-400 rounded outline-none appearance-none focus:ring-2">
                                <option>Bedrooms</option>
                                <option>2</option>
                                <option>4</option>
                                <option>6</option>
                            </select>
                        </div>
                        <div class="">
                            <input type="text"
                                class="w-full p-2 border border-gray-400 rounded outline-none focus:ring-2"
                                Placeholder="min price" />
                        </div>
                        <div class="">
                            <input type="text"
                                class="w-full p-2 border border-gray-400 rounded outline-none focus:ring-2"
                                Placeholder="max price" />
                        </div>

                        <div class>
                            <button class="w-full px-8 py-2 text-blue-100 bg-gray-600 rounded">
                                Search</button>
                        </div>
                    </div>  
                </form>
                <div class="mt-4 rounded-lg">
                    <h3>Ads</h3>
                    <img src="https://images.unsplash.com/file-1626897789502-538d933b419fimage" alt="property"
                        class="w-full">
                </div>
            </div>
        </div>
    </section>
</x-app-layout> --}}
<x-app-layout>
    <section class="bg-gray-700 py-12 mb-12">
        <div class="container grid grid-cols-1 lg:grid-cols-2 gap-6">
            <figure>
                <img class="h-60 w-full object-cover" src="{{Storage::url($course->image->url)}}" alt="">
            </figure>

            <div class="text-white">
                <h1 class="text-4xl">{{$course->title}}</h1>
                <h2 class="text-xl mb-3">{{$course->subtitle}}</h2>
                <p class="mb-2"><i class="fas fa-chart-line"></i> Nivel: {{$course->level->name}}</p>
                <p class="mb-2"><i class=""></i> Categoria: {{$course->category->name}}</p>
                <p class="mb-2"><i class="fas fa-users"></i> Matriculados: {{$course->students_count}}</p>
                <p><i class="far fa-star"></i> Calificación: {{$course->rating}}</p>                
            </div>
        </div>
    </section>
    <div class="container grid grid-cols-1 lg:grid-cols-3 gap-6">
        <div class="order-2 lg:col-span-2 lg:order-1">
            <section class="card mb-8">
                <div class="card-body">
                    <h1 class="font-bold text-2xl mb-2">Lo que aprenderás</h1>

                    <ul class="grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-2">
                        @foreach ($course->goals as $goal)
                            <li class="text-gray-700 text-base"><i class="fas fa-check text-gray-600 mr-2"></i>{{$goal->name}}</li>
                        @endforeach                        
                    </ul>
                </div>
            </section>

            <section class="mb-8">
                <h1 class="font-bold text-3xl mb-2">Temario</h1>
                @foreach ($course->sections as $section)
                    <article class="mb-4 shadow"
                        @if ($loop->first)
                            x-data="{ open: true }"
                            @else
                            x-data="{ open: false }"                            
                        @endif>
                        <header class="border border-gray-200 px-4 py-2 cursor-pointer bg-gray-200" x-on:click="open = !open">
                            <h1 class="font-bold text-lg text-gray-600">{{$section->name}}</h1>
                        </header>
                        <div class="bg-white py-2 px-4" x-show="open">
                            <ul class="grid grid-cols-1 gap-2">
                                @foreach ($section->lessons as $lesson)
                                    <li class="text-gray-700 text-base"><i class="fas fa-play-circle mr-2 text-gray-600"></i>{{$lesson->name}}</li>                                    
                                @endforeach
                            </ul>
                        </div>
                    </article>
                @endforeach
            </section>

            <section class="mb-8">
                <h1 class="font-bold text-3xl mb-2">Requisitos</h1>
                <ul class="list-disc list-inside">
                    @foreach ($course->requirements as $requirement)
                        <li class="text-gray-700 text-base">{{$requirement->name}}</li>
                    @endforeach
                </ul>
            </section>

            <section class="mb-8">
                <h1 class="font-bold text-3xl mb-2">Descripción</h1>
                <div class="text-gray-700 text-base">
                    {{$course->description}}
                </div>
            </section>
        </div>

        <div class="order-1 lg:order-2">
            <section class="card mb-4">
                <div class="card-body">
                    <div class="flex items-center">
                        <img class="h-12 w-12 object-cover rounded-full shadow-lg" src="{{$course->teacher->profile_photo_url}}" alt="{{$course->teacher->name}}">
                        <div class="ml-4">
                            <h1 class="font-bold text-gray-500 text-lg">{{$course->teacher->name}}</h1>
                            <a class="text-blue-400 text-sm font-bold" href="">{{'@' . Str::slug($course->teacher->name, '')}}</a> 
                        </div>
                    </div>

                    @can('enrolled', $course)      
                        
                        <a class="btn btn-success btn-block mt-4" href="{{route('courses.status', $course)}}">Continuar con el curso</a>
                        
                    @else                        
                   
                        <form action="{{route('courses.enrolled', $course)}}" method="POST">
                            @csrf
                            <button class="btn btn-danger btn-block mt-4">Estoy interesado</button>
                        </form>
                    @endcan
                </div>
            </section>
            <aside class="hidden lg:block">
                @foreach ($similares as $similar)
                    <article class="flex mb-6">
                        <img class="h-32 w-40 object-cover" src="{{Storage::url($similar->image->url)}}" alt="">
                        <div class="ml-3">
                            <h1>
                                <a class="font-bold text-gray-500 mb-3" href="{{route('courses.show', $similar)}}">{{Str::limit($similar->title, 40)}}</a>
                            </h1>
                            <div class="flex items-center">
                                <img class="h-8 w-8 object-cover rounded-full shadow-lg" src="{{$similar->teacher->profile_photo_url}}" alt="">
                                <p class="text-gray-700 text-sm ml-2">{{$similar->teacher->name}}</p>
                            </div>

                            <p class="text-sm"><i class="fas fa-star mr-2 mt-2 text-yellow-400"></i>{{$similar->rating}}</p>
                        </div>
                    </article>
                @endforeach
            </aside>
        </div>
    </div>
    
</x-app-layout>
